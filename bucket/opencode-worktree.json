{
    "version": "main",
    "description": "Zero-friction git worktrees for OpenCode. Auto-spawns terminals, syncs files, cleans up on exit",
    "homepage": "https://github.com/kdcokenny/opencode-worktree",
    "license": "MIT",
    "url": "https://github.com/kdcokenny/opencode-worktree/archive/refs/heads/main.zip",
    "extract_dir": "opencode-worktree-main",
    "installer": {
        "script": [
            "$pluginDir = Join-Path $Env:USERPROFILE '.config/opencode/plugins'",
            "New-Item -ItemType Directory -Path $pluginDir -Force | Out-Null",
            "Copy-Item -Path \"$dir/src/plugin/*\" -Destination $pluginDir -Recurse -Force"
        ]
    },
    "uninstaller": {
        "script": [
            "$pluginDir = Join-Path $Env:USERPROFILE '.config/opencode/plugins'",
            "Remove-Item -Path (Join-Path $pluginDir 'worktree.ts') -Force -ErrorAction SilentlyContinue",
            "Remove-Item -Path (Join-Path $pluginDir 'worktree') -Recurse -Force -ErrorAction SilentlyContinue",
            "Remove-Item -Path (Join-Path $pluginDir 'kdco-primitives') -Recurse -Force -ErrorAction SilentlyContinue"
        ]
    }
}
